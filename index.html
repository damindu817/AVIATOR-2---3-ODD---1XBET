
<!DOCTYPE html>
<html lang="si">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Xtreme Aviator Predictor - Fixed</title>
  <style>
    body {
      background-color: #000000;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 20px;
      margin-top: 50px;
    }
    .header-box {
      background-color: #ff0000;
      border: 2px solid white;
      border-radius: 15px;
      padding: 20px 30px;
      margin: 0 auto 15px auto;
      max-width: 400px;
      box-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000, 0 0 30px #ff0000;
    }
    .header-title {
      font-size: 1.6em;
      font-weight: 700;
      color: #ffffff;
    }
    .info-datetime {
      margin-top: 20px;
      border: 2px solid white;
      padding: 10px 18px;
      border-radius: 10px;
      display: inline-block;
      font-size: 1.3em;
      font-weight: 500;
      margin: 10px auto;
      line-height: 1.6;
    }
    .prediction-box {
      width: 240px;
      height: 240px;
      border-radius: 50%;
      border: 4px solid #00ffe7;
      background: #111;
      margin: 20px auto;
      box-shadow: 0 0 15px #00ffe7, inset 0 0 20px #00ffe7;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.6em;
      color: #00ffe7;
      text-align: center;
      padding: 10px;
    }
    .odd-box {
      margin-top: 0;
      min-width: 220px;
      padding: 16px 30px;
      border-radius: 10px;
      font-size: 1.3em;
      color: #00ffe7;
      background-color: #111;
      border: 2px solid white;
      box-shadow: 0 0 10px #00ffe7;
      margin-left: auto;
      margin-right: auto;
    }
    .button-container {
      margin: 15px 0 5px 0;
    }
    .btn {
      display: inline-block;
      color: #fff;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      border: 2px solid #fff;
      transition: all .3s ease-in-out;
      box-shadow: 0 0 10px #fff;
    }
    .btn.whatsapp { background-color: #25d366; box-shadow: 0 0 12px #25d366; }
    .btn.telegram { background-color: #08c; box-shadow: 0 0 12px #08c; }
    .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #fff, 0 0 25px currentColor, inset 0 0 10px currentColor;
    }
    footer {
      margin-top: 30px;
      font-size: .9em;
      color: #888;
    }
    .loading-dots::after {
      content: "";
      animation: blinkDots 1s steps(3, end) infinite;
    }
    .loading-dots {
      font-size: 1.1em;
      display: inline-block;
      text-align: center;
      max-width: 90%;
    }
    .signal-complete {
      background-color: #004d00 !important;
      color: #00ff88 !important;
      border-color: #00ff88 !important;
      box-shadow: 0 0 15px #00ff88, inset 0 0 20px #00ff88 !important;
      font-size: 1.3em;
    }
  </style>
</head>
<body>

  <div class="header-box">
    <div class="header-title">XTREME AVIATOR PREDICTOR 2 ODD : 1XBET</div>
  </div>

  <div class="info-datetime">
    <div>Live Time: <span id="liveTime">--:--:--</span></div>
    <div>Date: <span id="liveDate">--</span></div>
  </div>

  <div class="prediction-box" id="signalTime">--:--:--</div>
  <div class="odd-box" id="oddValue">ODD - --×</div>

  <div class="button-container">
    <a class="btn whatsapp" href="https://wa.me/xxxxxxxx" target="_blank">WhatsApp</a>
    <a class="btn telegram" href="https://t.me/xxxxxxxx" target="_blank">Telegram</a>
  </div>

  <footer>POWERED BY XTREME PREDICTOR © 2025</footer>

<script>
  let signals = [];
  let currentIndex = -1;
  let loadingStartTime = null;

  async function fetchSignals() {
    try {
      const res = await fetch('signals.json');
      signals = await res.json();
    } catch (err) {
      console.error("Failed to load signals:", err);
    }
  }

  function updateLiveClock() {
    const now = new Date();
    const optionsDate = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const optionsTime = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };

    document.getElementById("liveTime").textContent = now.toLocaleTimeString('en-US', optionsTime);
    document.getElementById("liveDate").textContent = now.toLocaleDateString('en-US', optionsDate);
  }

  function updateSignalDisplay() {
    const now = new Date();
    let found = false;

    for (let i = 0; i < signals.length; i++) {
      const signalTime = new Date(`${signals[i].date}T${signals[i].time}`);
      const showFrom = new Date(signalTime.getTime() - 30000);
      const showUntil = new Date(signalTime.getTime() + 60000);

      if (now >= showFrom && now < showUntil) {
        document.getElementById("signalTime").textContent = signals[i].time;
        document.getElementById("signalTime").classList.remove("signal-complete");
        document.getElementById("oddValue").textContent = `ODD - ${parseFloat(signals[i].odd).toFixed(2)}×`;
        currentIndex = i;
        loadingStartTime = null;
        found = true;
        return;
      }
    }

    if (!found) {
      const lastSignal = signals[signals.length - 1];
      const lastTime = new Date(`${lastSignal.date}T${lastSignal.time}`);
      const finalTime = new Date(lastTime.getTime() + 60000);

      if (now > finalTime) {
        document.getElementById("signalTime").textContent = "Signal Complete";
        document.getElementById("signalTime").classList.add("signal-complete");
        document.getElementById("oddValue").textContent = "ODD - --×";
        return;
      }

      if (loadingStartTime === null) loadingStartTime = now;
      const elapsed = (now - loadingStartTime) / 1000;

      if (elapsed < 6) {
        document.getElementById("signalTime").innerHTML = '<span class="loading-dots">Next Signal Loading</span>';
        document.getElementById("signalTime").classList.remove("signal-complete");
        document.getElementById("oddValue").textContent = "ODD - --×";
      }
    }
  }

  window.addEventListener("load", async () => {
    await fetchSignals();
    updateLiveClock();
    updateSignalDisplay();
    setInterval(updateLiveClock, 1000);
    setInterval(updateSignalDisplay, 1000);
  });
</script>

</body>
</html>

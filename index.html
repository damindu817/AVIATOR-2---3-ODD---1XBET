<!DOCTYPE html>
<html lang="si">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Xtreme Aviator Predictor</title>
<link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/3/3c/Aviator_helmet_icon.png">
<style>
/* Base Styles */
* {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

html, body {
  height: 100%;
  overflow-x: hidden;
  touch-action: manipulation;
}

body {
  background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%);
  color: #fff;
  font-family: 'Segoe UI', Roboto, -apple-system, BlinkMacSystemFont, sans-serif;
  text-align: center;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  opacity: 0;
  animation: fadeIn 1s ease forwards;
}

@keyframes fadeIn {
  to { opacity: 1; }
}

/* Header with Shine Effect */
.header-container {
  position: relative;
  padding: 15px 0;
  margin-bottom: 20px;
  background: linear-gradient(to right, #1a1a2e, #16213e, #1a1a2e);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
  overflow: hidden;
}

.header-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
  animation: shine 3s infinite;
}

@keyframes shine {
  0% { left: -100%; }
  20% { left: 100%; }
  100% { left: 100%; }
}

.header-title {
  font-size: 1.2rem;
  font-weight: 700;
  color: #fff;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin: 0;
  padding: 10px 20px;
  position: relative;
  z-index: 1;
  text-shadow: 0 0 10px rgba(0, 195, 255, 0.7);
}

/* Clock Section */
.clock-container {
  background: rgba(10, 10, 20, 0.7);
  border-radius: 12px;
  padding: 12px;
  margin: 0 auto 20px;
  width: 90%;
  max-width: 300px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(5px);
}

.clock-time, .clock-date {
  margin: 5px 0;
  font-size: 1rem;
  font-weight: 500;
}

/* Signal Circle - Modified Design */
.signal-container {
  position: relative;
  margin: 20px auto;
  width: 200px;
  height: 200px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.signal-circle {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 2;
  background: radial-gradient(circle at center, #111 0%, #000 100%);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
  border: 3px solid transparent;
  transition: all 0.5s ease;
}

.signal-circle.purple {
  border-color: #800080;
  box-shadow: 0 0 0 3px rgba(128, 0, 128, 0.6), 0 0 20px rgba(0, 0, 0, 0.5);
}

.signal-circle.red {
  border-color: #ff0000;
  box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.6), 0 0 20px rgba(0, 0, 0, 0.5);
}

.signal-circle.green {
  border-color: #00ff00;
  box-shadow: 0 0 0 3px rgba(0, 255, 0, 0.6), 0 0 20px rgba(0, 0, 0, 0.5);
}

.signal-time {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 5px;
}

.countdown-timer {
  font-size: 0.9rem;
  font-weight: 500;
  margin-top: 5px;
}

.purple-text {
  color: #800080; /* Changed to match outline color */
  text-shadow: 0 0 10px rgba(128, 0, 128, 0.7);
}

.red-text {
  color: #ff0000; /* Changed to match outline color */
  text-shadow: 0 0 10px rgba(255, 0, 0, 0.7);
}

.loading-text {
  color: #64dfdf;
  text-shadow: 0 0 10px rgba(100, 223, 223, 0.7);
}

/* Odd Box - Modified */
.odd-box {
  background: rgba(10, 10, 20, 0.7);
  border-radius: 12px;
  padding: 12px;
  margin: 10px auto;
  width: 90%;
  max-width: 250px;
  border: 1px solid rgba(255, 255, 255, 0.3); /* White outline */
  box-shadow: none; /* Removed glow effect */
  font-size: 1.1rem;
  font-weight: 600;
  color: #fff; /* White text for odd values */
  backdrop-filter: blur(5px);
  transition: all 0.3s ease;
}

.odd-box.purple {
  border-color: #800080;
  color: #800080; /* Purple text to match outline */
}

.odd-box.red {
  border-color: #ff0000;
  color: #ff0000; /* Red text to match outline */
}

/* History Timeline */
.timeline-container {
  background: rgba(10, 10, 20, 0.7);
  border-radius: 12px;
  padding: 15px;
  margin: 20px auto;
  width: 90%;
  max-width: 400px;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(5px);
}

.history-title {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 10px;
  color: #a5a5a5;
}

.history-strip {
  display: flex;
  overflow-x: auto;
  gap: 8px;
  padding: 5px;
  scrollbar-width: none;
}

.history-strip::-webkit-scrollbar {
  display: none;
}

.history-item {
  background: rgba(20, 20, 40, 0.8);
  border-radius: 8px;
  padding: 8px 12px;
  min-width: 70px;
  text-align: center;
  color: #fff;
  font-weight: 600;
  font-size: 0.9rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  flex-shrink: 0;
  animation: fadeInUp 0.5s ease forwards;
  opacity: 0;
}

.history-item.highlight {
  background: linear-gradient(135deg, #800080 0%, #4b0082 100%);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.5);
}

.history-item time {
  display: block;
  font-size: 0.7rem;
  margin-top: 3px;
  color: #bbb;
  font-weight: 400;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Buttons */
.button-container {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin: 20px 0;
  padding: 0 15px;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  padding: 12px 20px;
  border-radius: 30px;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.9rem;
  border: none;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  min-width: 120px;
}

.btn.whatsapp {
  background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
}

.btn.telegram {
  background: linear-gradient(135deg, #0088cc 0%, #005b8c 100%);
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.btn:active {
  transform: translateY(0);
}

/* Footer */
footer {
  margin-top: auto;
  padding: 15px;
  font-size: 0.8rem;
  color: #666;
  background: rgba(10, 10, 20, 0.7);
  backdrop-filter: blur(5px);
}

/* Loading Animation */
.loading-dots::after {
  content: '...';
  animation: blinkDots 1.5s steps(3, end) infinite;
}

@keyframes blinkDots {
  0% { content: ''; }
  33% { content: '.'; }
  66% { content: '..'; }
  100% { content: '...'; }
}

/* Responsive Adjustments */
@media (max-width: 480px) {
  .header-title {
    font-size: 1rem;
    padding: 10px 15px;
  }
  
  .signal-container {
    width: 180px;
    height: 180px;
  }
  
  .signal-time {
    font-size: 1.1rem;
  }
  
  .btn {
    padding: 10px 15px;
    min-width: 110px;
    font-size: 0.85rem;
  }
}

/* No Signal Message */
.no-signal-message {
  color: #777;
  font-size: 0.9rem;
  padding: 10px;
  text-align: center;
}
</style>
</head>

<body>

<div class="header-container">
  <h1 class="header-title">XTREME AVIATOR PREDICTOR 2 ODD : 1XBET</h1>
</div>

<div class="clock-container">
  <div class="clock-time">Live Time: <span id="liveTime"></span></div>
  <div class="clock-date">Date: <span id="liveDate"></span></div>
</div>

<div class="signal-container">
  <div class="signal-circle" id="signalCircle">
    <div id="signalDisplay">
      <div class="countdown-timer loading-text">Next Signal</div>
      <div class="countdown-timer loading-text"><span class="loading-dots">Loading</span></div>
    </div>
  </div>
</div>

<div class="odd-box" id="oddValue">Waiting for Next Signal...</div>

<div class="timeline-container">
  <div class="history-title">SIGNAL HISTORY</div>
  <div id="historyMessage" class="no-signal-message">No signal history available</div>
  <div class="history-strip" id="historyStrip">
    <!-- Signal history items will appear here -->
  </div>
</div>

<div class="button-container">
  <a class="btn whatsapp" href="https://chat.whatsapp.com/BE39Aj6enbP3SNkfmn8DeG" target="_blank">WhatsApp</a>
  <a class="btn telegram" href="https://t.me/+Ems_0HKtv_gwZmQ1" target="_blank">Telegram</a>
</div>

<footer>POWERED BY XTREME PREDICTOR Â© 2025</footer>

<audio id="beepSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>

<script>
let signals = [];
let currentIndex = 0;
let loadingPhase = true;
let beepPlayed = false;

// Disable zooming and scrolling
document.addEventListener('touchmove', function(e) {
  e.preventDefault();
}, { passive: false });

document.addEventListener('gesturestart', function(e) {
  e.preventDefault();
});

// Prevent context menu
document.addEventListener('contextmenu', function(e) {
  e.preventDefault();
});

function renderInitialHistory() {
  const now = new Date();
  const strip = document.getElementById('historyStrip');
  const msg = document.getElementById('historyMessage');

  let lastPassedIndex = -1;
  signals.forEach((signal, i) => {
    const signalTime = new Date(`${signal.date}T${signal.time}`);
    if (signalTime < now) {
      const item = document.createElement('div');
      item.className = 'history-item';
      item.innerHTML = `<div>${parseFloat(signal.odd).toFixed(2)}x</div><time>${signal.time}</time>`;
      strip.appendChild(item);
      lastPassedIndex = i;
    }
  });

  if (lastPassedIndex >= 0) {
    const items = strip.querySelectorAll('.history-item');
    items[items.length - 1].classList.add('highlight');
    if (msg) msg.style.display = 'none';
  } else {
    if (msg) msg.style.display = 'block';
  }
}

function addToHistory(signal) {
  const strip = document.getElementById('historyStrip');
  const msg = document.getElementById('historyMessage');
  if (msg) msg.style.display = 'none';
  if (!strip) return;

  // Remove existing highlight
  const highlighted = strip.querySelector('.history-item.highlight');
  if (highlighted) highlighted.classList.remove('highlight');

  // Create new history item
  const item = document.createElement('div');
  item.className = 'history-item highlight';
  item.innerHTML = `<div>${parseFloat(signal.odd).toFixed(2)}x</div><time>${signal.time}</time>`;
  strip.appendChild(item);

  // Scroll to new item smoothly
  item.scrollIntoView({ behavior: 'smooth', inline: 'end' });
}

let loadingNextSignal = false;
let loadingStartTime = 0;

async function fetchSignals() {
  try {
    const res = await fetch('signals.json?v=' + new Date().getTime());
    signals = await res.json();
    setTimeout(() => { loadingPhase = false; }, 8000);
    updateSignalImmediately();
  } catch (err) {
    console.error("Failed to load signals:", err);
  }
}

function updateLiveClock() {
  const now = new Date();
  const time = now.toLocaleTimeString('en-GB', { hour12: false });
  const date = now.toLocaleDateString('en-GB', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
  document.getElementById("liveTime").textContent = time;
  document.getElementById("liveDate").textContent = date;
}

function formatCountdown(seconds) {
  const m = Math.floor(seconds / 60).toString().padStart(2, '0');
  const s = (seconds % 60).toString().padStart(2, '0');
  return `${m}:${s}`;
}

function updateSignalImmediately() {
  const now = new Date();
  for (let i = 0; i < signals.length; i++) {
    const signalTime = new Date(`${signals[i].date}T${signals[i].time}`);
    if (now < signalTime) {
      currentIndex = i;
      break;
    }
  }
}

function updateSignalDisplay() {
  const now = new Date();
  const circle = document.getElementById('signalCircle');
  const odd = document.getElementById('oddValue');
  const beep = document.getElementById('beepSound');

  if (loadingPhase) {
    document.getElementById("signalDisplay").innerHTML = `
      <div class="countdown-timer loading-text">Next Signal</div>
      <div class="countdown-timer loading-text"><span class="loading-dots">Loading</span></div>
    `;
    odd.textContent = "Waiting for Next Signal...";
    odd.className = 'odd-box';
    circle.className = 'signal-circle';
    return;
  }

  if (signals.length === 0) {
    document.getElementById("signalDisplay").innerHTML = `
      <div class="signal-time">No Signals</div>
      <div class="countdown-timer">Available</div>
    `;
    odd.textContent = "Signal Not Available";
    odd.className = 'odd-box';
    circle.className = 'signal-circle';
    return;
  }

  if (loadingNextSignal) {
    if ((now - loadingStartTime) < 6000) {
      document.getElementById("signalDisplay").innerHTML = `
        <div class="countdown-timer loading-text">Next Signal</div>
        <div class="countdown-timer loading-text"><span class="loading-dots">Loading</span></div>
      `;
      odd.textContent = "Waiting for Next Signal...";
      odd.className = 'odd-box';
      circle.className = 'signal-circle';
      return;
    } else {
      loadingNextSignal = false;
    }
  }

  if (currentIndex >= signals.length) {
    circle.className = 'signal-circle green';
    document.getElementById("signalDisplay").innerHTML = `
      <div class="signal-time">Completed</div>
      <div class="countdown-timer">All signals</div>
    `;
    odd.textContent = "Signal Not Available";
    odd.className = 'odd-box';
    return;
  }

  const signal = signals[currentIndex];
  const signalTime = new Date(`${signal.date}T${signal.time}`);
  const endTime = new Date(signalTime.getTime() + 60000);

  if (now < signalTime) {
    const secondsLeft = Math.floor((signalTime - now) / 1000);
    document.getElementById("signalDisplay").innerHTML = `
      <div class="signal-time purple-text">${signal.time}</div>
      <div class="countdown-timer">Upcoming in: ${formatCountdown(secondsLeft)}</div>
    `;
    odd.textContent = `ODD - ${parseFloat(signal.odd).toFixed(2)}Ã`;
    odd.className = 'odd-box purple';
    circle.className = 'signal-circle purple';
    beepPlayed = false;
    return;
  }

  if (now >= signalTime && now < endTime) {
    const secondsLeft = Math.floor((endTime - now) / 1000);
    document.getElementById("signalDisplay").innerHTML = `
      <div class="signal-time red-text">${signal.time}</div>
      <div class="countdown-timer">End in: ${formatCountdown(secondsLeft)}</div>
    `;
    odd.textContent = `ODD - ${parseFloat(signal.odd).toFixed(2)}Ã`;
    odd.className = 'odd-box red';
    circle.className = 'signal-circle red';
    if (!beepPlayed) {
      beep.play();
      beepPlayed = true;
    }
    return;
  }

  if (now >= endTime) {
    addToHistory(signal);
    currentIndex++;
    loadingNextSignal = true;
    loadingStartTime = new Date();
    beepPlayed = false;
  }
}

window.addEventListener("load", async () => {
  await fetchSignals();
  renderInitialHistory();
  updateLiveClock();
  updateSignalDisplay();
  setInterval(updateLiveClock, 1000);
  setInterval(updateSignalDisplay, 1000);
});

// Real-time JSON fetch every 10 seconds
setInterval(async () => {
  try {
    const res = await fetch('signals.json?v=' + new Date().getTime());
    const newSignals = await res.json();

    if (JSON.stringify(newSignals) !== JSON.stringify(signals)) {
      signals = newSignals;
      updateSignalImmediately();
      renderInitialHistory();
    }
  } catch (err) {
    console.error("Live update error:", err);
  }
}, 10000);
</script>

</body>
</html>